(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,n){e.exports=n(200)},187:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);n(153),n(182);var a,r,c=n(0),l=n.n(c),o=n(57),i=n.n(o),s=(n(187),n(15)),u=n(16),d=n(9),m=n(17),g=n(19),f=n(115),p=n(10),v=n(207),h=n(208),E=n(150),b=n(148),w=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{class:"navbar navbar-dark bg-dark"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("a",{className:"navbar-brand mr-auto pl-md-5",href:"/"},l.a.createElement("span",{className:"pl-md-5 pl-5"},"Lumin")),l.a.createElement("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{class:"navbar-toggler-icon"})))),l.a.createElement("div",{class:"collapse",id:"navbarToggleExternalContent"},l.a.createElement("div",{class:"bg-dark p-4"},l.a.createElement("h5",{class:"text-white h4"},"Collapsed content"),l.a.createElement("span",{class:"text-muted"},"Toggleable via the navbar brand."))))}}]),t}(c.Component),y=(n(56),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).addToCart=function(e){var t=n.state.toggleDrawer;n.setState({toggleDrawer:!0},function(){n.props.setDrawerToggle(t),n.props.setElemData(e)})},n.state={toggleDrawer:!0},n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.elem,a=t.currency;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"product-tile text-center py-4"},l.a.createElement("div",{className:"img"},l.a.createElement("img",{className:"img-fluid",src:n.image_url,alt:n.title})),l.a.createElement("div",{className:"mt-4 "},l.a.createElement("h5",null,n.title)),l.a.createElement("div",null,l.a.createElement("h5",null,a+" "+n.price)),l.a.createElement("div",{className:"addToCartBtn px-3 py-2",onClick:function(){return e.addToCart(n)}},"Add to Cart")))}}]),t}(l.a.Component)),j=n(116),C=n(79),O=n(80),k=n.n(O),T=k()(a||(a=Object(C.a)(["\n  query fetchCurrencyQuery {\n    currency\n  }\n"]))),S=k()(r||(r=Object(C.a)(["\n  query fetchProductsQuery($currency: Currency!) {\n    products {\n      id\n      title\n      image_url\n      price(currency: $currency)\n      product_options {\n        title\n      }\n    }\n  }\n"]))),N=n(205),I=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target.value;n.setState({currency:t},function(){n.props.currency(n.state.currency)})},n.onSetSidebarClose=function(){n.setState({sbo:!1},function(){n.props.setDrawerToggle(!1)})},n.increment=function(e){var t=n.state.cart;t=n.incFunc(t,e,"count"),n.setState({cart:t})},n.decrement=function(e){var t=n.state.cart;t=n.decFunc(t,e,"count"),n.setState({cart:t})},n.incFunc=function(e,t,n){return e.forEach(function(e){if(e.elemId===t)return e[n]++}),e},n.totalPrice=function(e,t){console.log("4232-----3",t),console.log("4232-----3",t);for(var a=[],r=0,c=0;c<t.length;c++)r=n.getNewPrices(e,t[c].elemId,t[c].count),console.log("4======3",0+r),a.push(r);return console.log("4======113",a),a.length?a.reduce(function(e,t){return e+t}):0},n.decFunc=function(e,t,n){return e.forEach(function(a){a.elemId===t&&(a[n]--,0===a[n]&&e.splice(0,a.elemId))}),e},n.getNewPrices=function(e,t,n){return parseFloat(e.filter(function(e){return e.id===t})[0].price)*n},n.state={currency:"EUR",sbo:!1,cart:[],cde:{},total:0},n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props,r=a.addToCart,c=a.drawer;if(c!==e.drawer&&c)if(this.setState({sbo:c}),r.id&&!t.cart.length){var l=[].concat(Object(j.a)(t.cart),[{elemId:r.id,elem:r,count:1}]);console.log("wewe",l),this.setState({cart:l})}else if(r.id&&t.cart.length){var o=t.cart.filter(function(e){return e.elemId===r.id});if(o.length){var i=t.cart;i.forEach(function(e){if(e.elemId===o[0].elemId)return e.count++}),console.log("wewea",i),this.setState({cart:i},function(){console.log("eererer",n.state.cart)})}else{var s=[].concat(Object(j.a)(t.cart),[{elemId:r.id,elem:r,count:1}]);console.log("wewe",s),this.setState({cart:s})}}this.props!==e&&console.log("pwpwe",this.props,e)}},{key:"render",value:function(){var e=this,t=this.state.currency;return l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{title:"Your Cart",placement:"right",closable:!1,onClose:this.onSetSidebarClose,visible:this.state.sbo},l.a.createElement("select",{defaultValue:"EUR",onChange:function(t){return e.handleChange(t)}},l.a.createElement(p.b,{query:T},function(e){var t=e.loading,n=e.error,a=e.data;return t?l.a.createElement("option",null,"loading ..."):n?l.a.createElement("p",null,"error"):a.currency.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)})})),l.a.createElement("ion-icon",{size:"large",style:{cursor:"pointer"},onClick:function(){return e.onSetSidebarClose()},name:"chevron-forward-circle"}),l.a.createElement(p.b,{query:S,variables:{currency:t}},function(n){var a=n.loading,r=n.error,c=n.data;return a?l.a.createElement("option",null,"loading ..."):r?l.a.createElement("p",null,"error"):l.a.createElement("div",null,e.state.cart.map(function(n){return l.a.createElement("div",null,l.a.createElement("div",{className:"bg_white_card"},l.a.createElement("div",null,l.a.createElement("div",null,n.elem.title),l.a.createElement("div",null)),l.a.createElement("div",null,l.a.createElement("div",{className:""},l.a.createElement("span",{onClick:function(){return e.decrement(n.elemId)}},"-")," ",n.count," ",l.a.createElement("span",{onClick:function(){return e.increment(n.elemId)}},"+")),l.a.createElement("div",{className:""},t+" "+e.getNewPrices(c.products,n.elemId,n.count)),l.a.createElement("div",{className:""},l.a.createElement("img",{width:"60",src:n.elem.image_url,alt:n.elem.title})))))}),l.a.createElement("div",null,l.a.createElement("b",null,"Sum Total:"," ",e.totalPrice(c.products,e.state.cart))))})))}}]),t}(l.a.Component),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).currencySetValue=function(e){n.setState({currency:e})},n.drawerToggle=function(e){n.setState({drawerTog:e})},n.getElemData=function(e){console.log("dssd",e),n.setState({selectedElem:e})},n.state={currency:"EUR",selectedElem:{},drawerTog:!1},n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.currency,a=t.drawerTog,r=t.selectedElem;return l.a.createElement("div",null,l.a.createElement(w,null),l.a.createElement(I,{drawer:a,setDrawerToggle:this.drawerToggle,addToCart:r,currency:this.currencySetValue}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement(p.b,{query:S,variables:{currency:n}},function(t){var a=t.loading,r=t.error,c=t.data;return a?l.a.createElement("option",null,"loading ..."):r?l.a.createElement("p",null,"error"):c.products.map(function(t){return l.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-6 py-5"},l.a.createElement(y,{setDrawerToggle:e.drawerToggle,setElemData:e.getElemData,elem:t,currency:n}))})}))))}}]),t}(c.Component),D=new E.a({uri:"https://pangaea-interviews.now.sh/api/graphql"}),F=new f.a({link:D,cache:new b.a}),q=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,{client:F},l.a.createElement("div",{className:"App container-fluid"},l.a.createElement(v.a,null,l.a.createElement(h.a,{path:"/",exact:!0,component:x}))))}}]),t}(c.Component),P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var U=n(206);n(195);n(197).config(),i.a.render(l.a.createElement(U.a,null,l.a.createElement(q,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");P?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):_(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):_(e)})}}()},56:function(e,t,n){}},[[152,2,1]]]);
//# sourceMappingURL=main.4fdaee6c.chunk.js.map